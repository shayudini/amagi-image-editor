(()=>{function t(a,r){return(r||document).querySelector(a)}function n(a,r,u,l){a.addEventListener(r,u,!!l)}var I=t("#image-file-input"),o=t("#canvas"),w=o.getContext("2d"),g=t("#brightness"),h=t("#saturation"),v=t("#blur"),c=t("#inversion"),y=t("#contrast"),p=t("#grayscale"),d=t("#sepia"),m=t("#hue-rotate"),O=t(".image-wrapper"),x=t(".image-selector"),b=t("#download-link"),C=t("#reset"),e={},i=null;function R(){e.brightness="100",e.saturation="100",e.blur="0",e.inversion="0",e.contrast="100",e.grayscale="0",e.sepia="0",e.hueRotate="0",g.value=e.brightness,h.value=e.saturation,v.value=e.blur,c.value=e.inversion,y.value=e.contrast,p.value=e.grayscale,d.value=e.sepia,m.value=e.hueRotate}function s(a,r){!i||(e[a]=r,f())}function U(){let{brightness:a,saturation:r,blur:u,inversion:l,contrast:$,grayscale:L,sepia:k,hueRotate:S}=e;return`brightness(${a}%) saturate(${r}%) blur(${u}px) invert(${l}%) contrast(${$}%) grayscale(${L}%) sepia(${k}%) hue-rotate(${S}deg)`}function f(){o.width=i.width,o.height=i.height,w.filter=U(),w.drawImage(i,0,0)}n(g,"change",()=>s("brightness",g.value));n(h,"change",()=>s("saturation",h.value));n(v,"change",()=>s("blur",v.value));n(c,"change",()=>s("inversion",c.value));n(c,"change",()=>s("contrast",y.value));n(p,"change",()=>s("grayscale",p.value));n(d,"change",()=>s("sepia",d.value));n(m,"change",()=>s("hueRotate",m.value));n(I,"change",()=>{i=new Image,n(i,"load",()=>{x.classList.add("hidden"),R(),f()}),i.src=URL.createObjectURL(I.files[0])});n(b,"click",q);function q(){let a=o.toDataURL("image/png").replace("image/png","image/octet-stream");b.download="image.png",b.href=a}n(C,"click",()=>{R(),f()});})();
